<div class="container contact-form">
  <div class="row header">
    <h1> New Contract &nbsp;</h1>
  </div>
  <div class="row body">
    <form [formGroup]="addForm" (ngSubmit)="onSubmit()">
      <div class="row">
        <div class="col-md-15">
          <div class="form-group">
            <input type="text" name="hotelName" formControlName="hotelName" class="form-control"
              placeholder="Hotel Name" [ngClass]="{ 'is-invalid': submitted && f.hotelName.errors }" />
            <div *ngIf="submitted && f.hotelName.errors" class="invalid-feedback">
              <div *ngIf="f.hotelName.errors.required">Hotel name is required</div>
            </div>
          </div>
          <div class="form-group">
            <input type="email" name="email" formControlName="email" class="form-control" placeholder="Email"
              [ngClass]="{ 'is-invalid': submitted && f.email.errors }" />
            <div *ngIf="submitted && f.email.errors" class="invalid-feedback">
              <div *ngIf="f.email.errors.required">Enter valid email</div>
            </div>
          </div>
          
        <div formArrayName="contactNoList">
          <button (click)="addContacts()" class="btn btn-outline-info">Add Contacts</button>
          <div  *ngFor="let contactNo of contactNoList.controls; index as i">
    
              <input type="text" [formControl]="contactNoList.controls[i]" placeholder="Contact No."  class="form-control"/>
           
      </div></div>
              
    <hr>
    <div formArrayName="roomTypeList">
      <button (click)="addRoomTypes()" class="btn btn-outline-info">Add Room Type</button>
      <div  *ngFor="let roomTypes of roomTypeList.controls; index as i">
        <div [formGroup]="roomTypes">
          <div class="form-group">
            <input type="text" name="type" formControlName="type" min="1" max="50" class="form-control"
              placeholder="Room Type *" [ngClass]="{ 'is-invalid': submitted && f.roomTypeList.errors }" />
            <div *ngIf="submitted && f.roomTypeList.errors" class="invalid-feedback">
              <div *ngIf="f.roomTypeList.errors.required">Required</div>
            </div>
          </div>
            
            <div class="form-row">
              <div class="form-group col-md-6">
                <input type="number" name="noOfRooms" formControlName="noOfRooms" min="1" max="50" class="form-control"
                  placeholder="No. of Rooms *" [ngClass]="{ 'is-invalid': submitted && f.roomTypeList.errors }" />
                <div *ngIf="submitted && f.roomTypeList.errors" class="invalid-feedback">
                  <div *ngIf="f.roomTypeList.errors.required">Required</div>
                </div>
              </div>
              <div class="form-group col-md-6">
                <input type="number" name="noOfAdults" formControlName="noOfAdults" min="1" max="50" class="form-control"
                  placeholder="Max Adults *" [ngClass]="{ 'is-invalid': submitted && f.roomTypeList.errors }" />
                <div *ngIf="submitted && f.roomTypeList.errors" class="invalid-feedback">
                  <div *ngIf="f.roomTypeList.errors.required">Required</div>
                </div>
              </div>
            </div>
            <div class="form-group">
              <input type="number" name="price" formControlName="price" min="1" max="50" class="form-control"
                placeholder="Price  *" [ngClass]="{ 'is-invalid': submitted && f.roomTypeList.errors }" />
              <div *ngIf="submitted && f.roomTypeList.errors" class="invalid-feedback">
                <div *ngIf="f.roomTypeList.errors.required">Required</div>
              </div>
            </div>
            </div>
          </div>
    </div>
          
          <hr>
          <div class="form-group">
            <label>Start Date *</label>
            <input type="date" name="startDate" formControlName="startDate" class="form-control" placeholder="Arrival *"
              [ngClass]="{ 'is-invalid': submitted && f.startDate.errors }" />
            <div *ngIf="submitted && f.startDate.errors" class="invalid-feedback">
              <div *ngIf="f.startDate.errors.required">Required</div>
            </div>

          </div>
          <div class="form-group">
            <label>End Date *</label>
            <input type="date" name="endDate" formControlName="endDate" class="form-control" placeholder="Departure *"
              [ngClass]="{ 'is-invalid': submitted && f.endDate.errors }" />
            <div *ngIf="submitted && f.endDate.errors" class="invalid-feedback">
              <div *ngIf="f.endDate.errors.required">Required</div>
            </div>
          </div>
          <div class="form-group">
            <input type="number" name="markup" formControlName="markup" min="1" max="50" class="form-control"
              placeholder="Markup% *" [ngClass]="{ 'is-invalid': submitted && f.markup.errors }" />
            <div *ngIf="submitted && f.markup.errors" class="invalid-feedback">
              <div *ngIf="f.markup.errors.required">Required</div>
            </div>
          </div>

          <div class="form-group">
            <textarea name="address" cols="46" rows="3" class="form-control" formControlName="address"
              placeholder="Address *" [ngClass]="{ 'is-invalid': submitted && f.address.errors }"
              style="width: 100%; height: 150px;"></textarea>
            <div *ngIf="submitted && f.address.errors" class="invalid-feedback">
              <div *ngIf="f.address.errors.required">Required</div>
            </div>

          </div>
          <div class="form-group form-check">
            <input type="checkbox" formControlName="acceptTerms" id="acceptTerms" class="form-check-input"
              [ngClass]="{ 'is-invalid': submitted && f.acceptTerms.errors }" />
            <label for="acceptTerms" class="form-check-label">Accept Terms & Conditions</label>
            <div *ngIf="submitted && f.acceptTerms.errors" class="invalid-feedback">Accept Ts & Cs is required</div>
          </div>
          <div class="form-row">
            <button type="submit" [disabled]="!addForm.valid" class="btn btn-outline-info" id="btn">ADD</button>
            <button class="btn btn-outline-info" type="reset" (click)="onReset()">Cancel</button>
          </div>
        </div>
      </div>
    </form>
  </div>

</div>